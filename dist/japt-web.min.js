var Japt=function(){"use strict";function e(e,t=1){return e.replace(/^/gm,"  ".repeat(t))}function t(e,t=!0){let n="";for(let i of e){let e="()[]{}<>‹›«»\\/".indexOf(i);e>-1&&(i="()[]{}<>‹›«»\\/"[1^e]),n=t?i+n:n+i}return n}!function(e,t){for(var n in t)t[n]={value:t[n],writable:!0};Object.defineProperties(e,t)}(Array.prototype,{get:function(e){return e<0&&(e+=this.length),this[e]},set:function(e,t){return e<0&&(e+=this.length),this[e]=t},mapAt:function(e,t){return e<0&&(e+=this.length),this[e]=t(this[e]),this}});try{RegExp("b(?<=a.)c").test("abc")}catch(e){!1}var n={codepage:"₀₁₂₃₄₅₆₇₈₉₊₋₍₎¼¾⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻⁽⁾½⅟ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~¶ẠḄḌẸḤỊḲḶṂṆỌṚṢṬỤṾẈỴẒȦḂĊḊĖḞĠḢİĿṀṄȮṖṘṠṪẆẊẎŻạḅḍẹḥịḳḷṃṇọṛṣṭụṿẉỵẓȧḃċḋėḟġḣıŀṁṅȯṗṙṡṫẇẋẏżàáâæèéêìíîòóôùúû≈≠≡≢≤≥∧∨................‹›«»“‟”„",methodNames:"abcdefghijklmnopqrstuvwxyzạḅḍẹḥịḳḷṃṇọṛṣṭụṿẉỵẓȧḃċḋėḟġḣıŀṁṅȯṗṙṡṫẇẋẏżàáâæèéêìíîòóôùúû",variableNames:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",midOperators:"+-*/%&|^≈≠≡≢<≤>≥∧∨=,?:",binaryOpMap:{"+":{name:"plus",lit:"+"},"-":{name:"minus",lit:"-"},"*":{name:"times",lit:"*"},"/":{name:"over",lit:"/"},"%":{name:"mod",lit:"%"},"&":{name:"band",lit:"&"},"|":{name:"bor",lit:"|"},"^":{name:"bxor",lit:"^"},"≈":{name:"eq",lit:"=="},"≠":{name:"neq",lit:"!="},"≡":{name:"eqq",lit:"==="},"≢":{name:"neqq",lit:"!=="},"<":{name:"lt",lit:"<"},"≤":{name:"lte",lit:"<="},">":{name:"gt",lit:">"},"≥":{name:"gte",lit:">="}},tokenise:function(e){let t,n=[],i=/([“‟«›][^‹»”„]*[‹»”„]?|”[^]|»[^]|0|\d*\.\d+|\d+|[^])(['"]*)/gu;for(;t=i.exec(e);)n.push(t);return console.log(n.slice()),n},transpile:function(i,l=!1){l&&(i=i.replace(/[^]/g,e=>n.codepage[e.charCodeAt()])),i=i.replace(/\n/g,"¶").replace(/\t/g,"ṭ");let s=n.tokenise(i),r=[[]];function a(){r.push([])}function c(e){0===r.length&&r.push([]),0===r.get(-1).length&&r.get(-1).push(""),r.mapAt(-1,t=>t.mapAt(-1,t=>t+e))}function g(e){r.get(-1).push(e)}function f(n){let i=r.pop();var l;("}"===n?((i=i.map(e=>e.replace(/[^;]$/,"$&;"))).mapAt(-1,e=>"return "+e),i=i.join("\n")):i=i.join(", ")+n,";"!==i)&&(0===r.length||r.get(-1).get(-1).slice(-1)!==t(n)?("}"===n?(i="function(X, Y, Z) {\n"+e(i)+"\n}",0!==r.length&&"("===r.get(-1).get(-1).slice(-1)||(i="("+i+")")):";"!==n&&(i=t(n)+i),r.push([i])):";"===n?g(i):("}"===n&&(i="\n"+e(i)+"\n}",(r.length<2||"("!==r.get(-2).get(-1).slice(-1))&&(i+=")",l="(",0===r.length&&r.push([]),0===r.get(-1).length&&r.get(-1).push(""),r.mapAt(-1,e=>e.mapAt(-1,e=>l+e)))),c(i)))}function o(e){for(;;){if(r.length<2)return;let n=t(r.get(-2).get(-1).slice(-1));if(!e.includes(n))return;f(n)}}for(;s.length>0;){let[[e],t,i]=s.shift();if("([".includes(e))g(e),a();else if("{"===e){let e=[];for(;n.variableNames.includes(r.get(-1).get(-1));)e.unshift(r.get(-1).pop());g("function ("+e.join(", ")+") {"),a()}else if("“"===e){let n='"',i=t.slice(1);for(;;){if(0===i.length?e="”":(e=i[0],i=i.slice(1)),"”"===e){g(n+='"');break}"\\"===e?n+="\\\\":'"'===e?n+='\\"':"¶"===e?n+="\\n":"ṭ"===e?n+="\\t":/[ -~]/.test(e)&&(n+=e)}}else if("”"===e){let n='"',i=t.slice(1);n+="\\"===(e=0===i.length?" ":i)?"\\\\":'"'===e?'\\"':"¶"===e?"\\n":"ṭ"===e?"\\t":e,g(n+='"')}else if("«"===e){let n="",i=!1,l=t.slice(1);for(;;){if(0===l.length?e="»":(e=l[0],l=l.slice(1)),"»"===e){i&&(n+="]"),""===n&&(n+="."),g(n="/"+n+"/gu");break}"₍"===e?(i=!0,n+="["):"₎"===e?(i||(n="["+n),n+="]",i=!1):"/\\()[]{}?*+|-^$.".includes(e)?n+="\\"+e:"¶"===e?n+="\\n":"ṭ"===e?n+="\\t":"₋"===e?n+="-":/[ -~]/.test(e)&&(n+=e)}}else if("»"===e){let n="/",i=t.slice(1);for(e of i.slice(0,-1));0===i.length?e=".":(e=i[0],i=i.slice(1)),"/\\()[]{}?*+|^$.".includes(e)?n+="\\"+e:"¶"===e?n+="\\n":"ṭ"===e?n+="\\t":/[ -~]/.test(e)?n+=e:n+=".",g(n+="/g")}else if(n.methodNames.includes(e)){let t=r.get(-1);if(0===t.length){if(r.length>1&&"("===r.get(-2).get(-1).slice(-1)){c('"'+e+'"');continue}c("U")}t.length>0&&/\d$/.test(r.get(-1).get(-1))&&c(" "),c("."+e+i.replace(/./g,e=>"'"===e?1:2)+"("),a()}else if(" "===e)f(")");else if(")"===e)u="  ",s.unshift(...n.tokenise(u));else if("]"===e)o(")"),f("]");else if(";"===e)o(")]"),f(";"),a();else if("}"===e)o(")];"),f("}");else if(n.variableNames.includes(e))g(e);else if(/\d|\./.test(e)){let e=t;"."===e&&(e=".1"),"."===e[0]&&(e="0"+e),g(e)}else","===e||c(e)}var u;return o(")];}"),r.unshift(["function program(input, U, V, W, X, Y, Z) {"]),o(")}"),r[0][0]}};return n}();